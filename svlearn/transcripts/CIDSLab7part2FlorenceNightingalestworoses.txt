 We have done regressors and classifiers and data analysis. I want to, as a change at the end of the day today, do something fun and essentially go to the roots of data visualization. I mean, data is something people have visualized, make figures since, I suppose, ancient times. But there is one visualization that in some sense is a milestone. Many people believe that in a more formal sense, data visualization started with this particular visualization, this very effective visualization. It didn't start with it, but it sort of came into its own. That's when it got importance or relevance or was noticed. This has to do with the story of Florence Nightingale, who was an exceptional person. Most of you know the history of or the life of Florence Nightingale. In case you don't, in a very succinct form, it is as follows. She came from a fairly aristocratic background, affluent background, and one fine day she was on an estate under a tree and the sun was shining and she in her words she felt that she heard a calling to go set forth into the world and help people and do do something i don't know the precise wording of that she is a woman who is unusual um a person of she's called the lady of the Lamb, as this picture shows, or the Angel of Mercy and many things. She was generally an unusual combination of two things, a very compassionate Crimean war between England, I suppose, France and Russia. Russia was the enemy side. She went to the war because she heard of people getting wounded, soldiers getting wounded, and she wanted to help. When she went there, she opened a camp, a hospital kind of a thing for the wounded and the ill. And the remarkable thing is instead of serving only the British side or her side of the battle of the war, she instead opened a camp and she would bring in people, the soldiers from both sides, and she would apparently take care of them equally well, nurse them and bring them back to health, the soldiers of both sides. Obviously an unusual character with great humanity, but amongst her qualities were, she used to carry notebooks wherever she went. Whatever she would observe, she would observe, she would measure. She had the qualities of a data scientist and she would record. What she recorded in the Crimean War, which was from 1854 to 1856 is this sordid fact that a very unusual fact one would imagine you go go to a battle you would die of battle wounds you'd get killed by something by a bullet or something like that what she found instead was that most people died not of battle, but from disease, the unhygienic conditions of caring for the ill, the sick. And they died from that. And this she tabulated in her data, which has only, I believe, 23 or 24 rows, 24 rows, literally for two years that the battle went on. And she has those records. She said, this is the date, this is the month, this is the year. This is the size of the army. These are how many people have died from disease, from wounds, and from other causes. And then of course from that she derived the disease rate, wounded rate, and other rates. But the data in its entirety is here, I've just given the raw data. In its entirety is this table of 24 rows. The most important thing is this is the size of the army, these many people died of disease, these of wounds, etc. In every row you notice, of the three causes of death, disease, wounds and others, disease seems to far outnumber wounds in almost all situations, except I believe one somewhere. This row, in which the number of people who died of disease is less than the number of people who died of wounds. But in every other situation, it seems to be the other way around. This is quite a remarkable fact. And if you think about it, this fact says it all, but what is the value of data visualization here? This is a table in a wall, many tables of data are gathered and tabulated and kept into books and journals and forgotten. What she did is she took this data and now let's do this. Today, what would we do? We would make a bar plot. Causes of death based on the mortality reasons, disease, wounds, and others for each of the year. So I plotted it out as this thing, sort of bar chart, which would be the most natural thing to do if you were given this table of data. Bar charts are very clear. They show the ratios. You see the proportion, how many more people die from disease compared to wounds? It really brings home the point. Asil, I have a question on this point. Yes. So, what is the data.plot.bar? Really, that's a pandas plot? but what pandas has done recently this is a in the last i suppose in a while is they have integrated with all these back-end plotting libraries matplotlib is the default but you can stitch in plotly you can stitch in bouquet and there are many other competing uh plotting libraries altair and so forth and so what you can do is you can just say, given a data frame, you can say plot and whatever the backend library that you're using will kick in. So like at this moment, by default, it is matplotlib. So, and by the way, it's very easy. It's just a setting to change it to plotly or bokeh or Altair or something else or Vegasgas so here i do that and bar plot dot bar it is the same as saying matplotlibs plt dot bar exactly the same thing i think does that answer your question yeah but the beautiful thing is that at this moment it's still in development i would say it's not fully fleshed out but to the extent that it is there it gives you a unified picture over these back-end libraries and so you can just you know just change one setting and go from matplotlib to bouquet or to anything else which is a great win because you know you don't have to learn learn the syntax of each of those libraries you can just stay with data frame okay so that's the advantage of doing that so I did that just to illustrate the point that you can do that yeah and you did this uh.plot, right? What would be shown? Would there be extra information shown versus just the part of the display and all? Where would the difference be? Like over here, say, bouquet and all, would there be something extra added? Yeah, so for example, bouquet or plotly, they add interactivity. you can zoom in zoom out highlight do tip over mouse tips those things and in fact you can take this as an example just change the back end go to support vectors common and then go and change the back end to okay or whatever or you can do it manually here like add one line of code and you can literally see that the plot changes. I see. But is there like other extra information that yeah, not not so much information, but they make it more interactive. See all of these libraries, what they value they're giving is, see, the root is Michael Bostock's D3 library. Right? So on top of that, they are all of these projects people have created like plotly, which under the covers writes the thing. Altair, for example, sits upon VegaLite. What does VegaLite sit upon? It sits also upon D3. So things like that. D3 is sort of almost the gold standard for data visualization, but it's in JavaScript. I see. So if you were to choose them, we should probably just like forget matrock, is that what we should just talk about? I would not say that. A lot of people say that and in fact, that's a message I'm bringing. Remember the story that I keep narrating that magic is never in the shiny toys. Magic is in using whatever tools you are very comfortable with, but then pushing it, take piece by piece systematically working at it to get what you get. And I wanted to make exactly the point. So thanks for asking this question. So yes, if you change the plot to Altea Vega or something, this will look prettier. We'll have interactivity. But ultimately, this is what it will look like with some bells and whistles. So now ask this question. Look at this plot that Florence Nightingale made. This is the famous diagram that she showed to Queen, I believe, Queen Victoria. Right? Was it Victoria or Queen Elizabeth? I believe it's Queen Victoria. Anybody please correct me. 1856 what it would be queen victoria or queen elizabeth that's true they keep on alternating so i think it was there go ahead kate none of us were there so anyway so she took it to the queen of england and uh who took it very seriously and out of this game she got funded she opened the first modern hospital and many good things happened nursing as a profession really caught momentum then before that the nurses used to be you know ex-convicts and things like that right so now let's look at the value of this you could argue for example um kate specially come from edward tuft and so forth from a pure clarity perspective you would agree that this is a lot more complicated diagram than a simple bar chart like this isn't it the bar chart shows proportions much more clearly it is obvious there is an obviousness to it so there is a question, what is the place of art in telling a story? When you tell a story, it is obvious, but it is also bland. Have you served, like, have you managed to reach out to your target audience and convey something? What Florence did, in my view, and this is, by the way, my subjective view, is that when she, I mean of course she knew about bar charts, what she did is she took the bar chart and she converted it into polar plot, a radial kind of this beautiful plot that are the famous two roses of Florence. And what she showed, the interpretation is the area of each of these arcs or segments is proportional to the number of deaths. Blue is the number of deaths from disease. This salmon color is the number of what she calls red, is the number of deaths from battle wounds. And gray is the black, what she calls black but is gray, is the number of deaths from battle wounds, and gray is the black, what she calls black but is gray, is the number of deaths from other causes. So when you look at this graph, the first thing that shocks you is the number of people who seem to be dying of battle wounds is almost insignificant from the large number of avoidable deaths. Why should people be dying of just disease in a battlefield right or in general why should they be dying just like this right and it completely sort of stands out it does stand out here also right but here i didn't know something very haunting about this picture and of course it got a lot of attention fact, today we say Nightingale many people consider as the sort of the pioneer in data visualization. Many of you know that their magazines named after her in fact, medium.com has an entire magazine online magazine for data visualization. I encourage you to visit it frequently and read articles in it. The magazine is literally called nightingale right and of course if you are ever in a nursing profession you know that you consider her to be the founding of person of modern nursing so tremendous influence tremendous influence and two and historic value to one diagram so what we will do is a fun exercise is ask well can we draw this plot when you draw this plot the first thing that occurs to you is oh matplotlib is so boring i don't think we can draw anything like that you look at the library it has bar charts and pi plots and this and that and you wonder how would we draw something like this using matplotlib you would you would want to go to some fancier library right what i want to do though is see if we can do this come very close to this using nothing but matplotlib let's let's give it a try and so here we go Let's give it a try. And so here we go. First, what we do is we take, remember that she has two roses, one for each year. So I also divide the data into two parts. So whenever I say this is a divide and conquer phase, whenever you see a complex visualization or you're creating one, break it up into little projects tiny little pieces each of the piece would be easy and then layer them together so first thing you do is we this is our starting place the question is from here how do we go to here that is our goal this is our starting place so first thing we do is we divide the data into two parts one just as here it is divided for the first year and for the second year. And then what do you do? Let's plot them side by side. We achieved one milestone, halfway stone. So now we have two plots, right? Nothing magical here, but we just broke it up. And actually I should have given the title the year, but I didn't i'll fix this a date this is the date now what do we do we take this plot it is a linear plot and let's wrap it around the wheel right wrap it around a radial axis polar coordinates so to do it is polar coordinates is easy how many uh one two three four five how many twelve there are 12 segments 12 sets of bars so we will do the same thing you take the data and like i made it more general you say how many instances are there well of course the answer will be 12 and what is the width i divide how wide in in terms of, radians, how wide should each of the segments be? Well, 2 pi is the total circle. So you divide 2 pi. You probably know, right? 2 pi is the total in radians. It is the full circle, angle of the full circle. So you divide 2 pi by n, which is 12 and so you get how much angle in radians you should give to each of the bars once you have that then i just divide it into these things these 12 bars and what do i do i start plotting it i first plot the disease i say okay here we go now what happens is you have to be careful she she says in her notes that the area should be proportional to the number, let's say disease. So you can't make the height, the bar plot of matplotlib takes the X, the location along the X axis, and then the Y, the height. But height cannot be the disease because you're looking at the area. If you're looking at the area, the radius, area height cannot be the disease because you're looking at the area. If you're looking at the area, the radius area is radius squared, theta r squared, right? So a little bit of geometry is theta r squared. So what you need to do is, if r squared should be proportional to that value, then r should be square root of that value, isn't it? The height should be square root of that value, which it the height should be square root of that value which is what i do this is one of the things you have to remember to do and then why did i multiply it by 20 just so that to make it look big and large nice to scale it out so i did that the rest of it is very simple if you think of it as simple vertical bar chart rather than a circular one the rest of it makes sense color edge color line width these are all beautifying things right what does the patch color do i noticed that in her plot there is no back the background color is there do you see this now i went looking for this background color in the color wheel and i realized that the this color that i could find here is here i found that the color the closest i could find in the color wheel is this it is basically somewhat like a peach color would you agree that this looks rather peachish close to peaches right so i found a color match and so i made the background this is is how you do the background in Matplotlib. You have to get the patch. Patch contains the aesthetic elements. And you set that particular patch's aesthetic element, face color, you set it to this. Then you remove the X and Y ticks, because in her case, you don't see X, Y tick marks. So I remove those those reset to zero removing the ticks and then i did one extra i put the gray colored wheel because i felt that was it would be good to have the grid marks grid marks help you understand things so i've kept the grid marks in the vertical direction only. Then I also noticed that Florence put the name of the month in the picture. Do you notice that February is sitting on top of the bar? So what do I do? We can do that too. You go there and you say, ah, let's put the month there. So there again, you have to go get patches. And for each of them, you pick the height. And then once you have the height, patches and for each of them you pick the height and then once you have the height you put it a little bit above the height you know 10 35 units above the height you put the text so we got that far and this was the most complex part after that the showing the the from wounds death from wounds simple bar chart nothing nothing new absolutely nothing new from wounds death from wounds simple bar chart nothing nothing new absolutely nothing new and likewise uh death from other causes absolutely nothing new so when you look at this thing you realize that piece by piece you can bring it all together and so when you do that rest of it adding a legend setting the size of the font then i also noticed that oh look at this she uses this beautiful handwritten font she hand wrote this text isn't it and she you would agree that she had absolutely beautiful handwriting or she used a person who had a beautiful handwriting to help her this is really beautiful handwriting the closest font i could find to that was i looked around and said so here is the text i literally quoted the text that she has in as clear in as similar a way as she did in those old days it was common to put the first sentence to stand out to the left i did that and then what was the font i on you can do it actually I was going to use Google Fonts, but at that time I couldn't make it work. So I just took the font that is closest to it within Windows. It was this font, Blackada ITC. It looked to be the closest font to it. So I said that is the font. Do you notice this line here? Set text. And these are the coordinates of where to put the text. Right. And these are just little, you know, the details. Then I noticed that she has a title and subtitles. She has a title here. In Matplotlib, you call it the super title when you have two subplots. And these are the titles of the plot. One dot, two dot. title when you have two subplots and these are the titles of the plot one dot two dot so i put that exactly all i had to do is reproduce the text as it is do you see left right and so this is the picture i came up with i'll let you judge wow nice applause Applause. This is it. And so again, by the way, a lot of people give feedback of this Kyle helped and Kate helped and her knee helped and so forth. So this is it. So this is the point that I'm trying to make is, you can take a visualization and don't be don't feel that I can't do it. Just break it up into small pieces. Right? And do one piece, you can't do everything in one go, it will take you a day or two, or break it up into small piece, do piece by piece, just like artists, they don't pay to paint a masterpiece in one afternoon. What they do is they have a project every day, they do a little bit of the project, put one piece of the puzzle together, search solve the problem because everything you have to search how do i move this here how do i put the you know the those months on top of the bar right so everything is a little puzzle that you have to go solve so piece by piece solve that puzzle and then at the end of it after some time you will find that you have actually uh pulled it off something that looks difficult. If you look at this and you ask people, you did it in Matplotlib, unless people are experts at Matplotlib, they would say, no, no, no, you can't do it. Right. It doesn't give you support. But actually it does. Most of these libraries are richer than you think. And well, here it is. And here is it for comparison for you. So let me put these things side by side. Sorry, and let you even smaller, let you now you can't read the text, but let you compare the two pictures. This is it. And you can get close, right? You can get close right this you can get close i would i will put a few more visualizations like this which look complex try to break them up into small pieces and see if you can pull them off because when you pull them off first of all it's a delight to be able to reproduce masterpieces in art in painting in photography one of the great lessons is the right way to learn in the beginning is just to copy the masters and reproduce the masters you will learn a lot of technique so let's go find a few great master visualizations that great people have done in the field and let us try to break them up into pieces and let us try to reproduce it piece by piece. Let's try to reproduce it. And so the fourth project that I want to give in this course is a data visualization project. I want all of us to go find a good data visualization, which on the face of it looks a little hard, but it is really beautiful, really has something amazing to say. And then let's make it a project that as a team, you try to reproduce it using using what we have learned so far. I'd wonder if some of the original colors had faded since she describes this as black, but it looks like gray, but it is also very old. It's very old. My guess is that she's using, you know, color pencils. So you notice that she has dark borders, but the area inside she paints it lightly. And I think it is with color pencil that she did it. Or maybe paste and who knows but it's amazing you can see the old age you know the ream the fold where it was folded and so forth so now i'll tell you we did it the hard way like we did it using matplotlib there is another library which literally is dedicated to making this radial images, pie charts and so forth. The name of that library is literally pie charts. Use that library and see if you can reproduce it quickly. And that is based on an open source project called E-charts. Another library Altair we have used in the past as a homework, see if you can redo what we did using Altair. Altair sits upon obviously vegas which which sits upon d3 right and obviously in those formats it will look a little bit brighter maybe but you'll get essentially the same thing so all right guys i would like to now sum up what we learned today So, all right guys, I would like to now sum up what we learned today. We have about half an hour left, so time to sum it up. Today we learned about clustering, we learned about pattern recognition, we learned about k-means clustering, we learned how to do it, we learned how to know that we have a good clustering by using WSS. We learned how to hunt for the optimal value of the hyperparameter K, the number of clusters. We learned about the scree plot, the ELBO method. Then we did the labs. In the lab, we did the breast cancer dataset. We went through the whole analysis of it. Then the lesson there we learned is so much can be figured out just by visualizing the data carefully. So that's that and then we move forward. Then we learned today we gave some time to data visualization and creating or trying to reproduce complex visualizations. And again, this goes to the fact that data must tell a story. If a story is like if you is functionality versus aesthetics. If it is pure functionality, people might not be impressed. Right. But if you add aesthetics to it, maybe you lose a little bit of clarity. I've heard some people say, well, this is not as clear as the bar chart but it certainly adds more interest to your story and you have to balance the two off and you have to also look at the audience and see what is it that you want there are no perfect answers some people are curious they say no it should be as simple and as clear as possible right but that is one perspective i tend to believe that aesthetic also matters don't don't one of the principles that edward duff says which i do agree with principle i think he calls it the principle of listing don't just put color gradients and fancy flourishes to a thing just for the sake of that keep it simple i believe this floren this Florence Nightingale's picture has simplicity, but it does have a bit of novelty or interest to it, a bit of art to it. All right, folks, with that word, I would, on that note, I would like to end today. If you have any questions you can ask so can you kind of briefly go through the hierarchy of this taking a look at it like there is alter then vega light and then vega dc and j. Oh, there are many. Python is a universe of visualization libraries. It is like a wild, wild west at this moment. Is it? Yeah. So become good with matplotlib, foundationally. And then experiment with different things and see which one you like. OK. Yeah. That's it. If you notice that those interactive notebooks I created using Altair, which is sitting up on Vega Lite. So things like that, you know, all of these are good. See, it's always the same thing. Blokes like us, we buy fancy camera equipment. And all we do are take hilarious pictures, ridiculous pictures. And then a great artist will take his used equipment, old equipment, and on the same scene will come and he will discover, he will find things and he will take pictures that make their way into national geography. So the difference is not the tool, it's the person behind the tool. So that's what it comes to. So this you did completely matplotlib. I'm just showing that see, it is not the tool. You can go do using pie charts, you can quickly do it or LJ will look flashier. But hey, I said that you could come almost not see she is handwritten those things so those fonts don't exist but barring the existence of the fonts one would argue that this is as close as you can get to the original isn't it right and i didn't use any fancy library so here if you change the back end so this is very specific to matplotlib right yeah but if you change the back end to sayair or something, this will... No, your code will have to change. Code will have to change. So that's what I was trying to understand. Is there something that kind of goes further? No. That is what Pandas is trying to do at this moment. But they're at a very early stage. All right guys, so with that, if there are no other questions, I'll stop the recording. So she actually do it to scale. She put a lot of effort into it. Now when you look very carefully into our computer generated image and her image, you notice that at a couple of places, she has made very small scaling errors. But you can't avoid that. But think about the sheer effort she put into making this. And first of all, inventing a completely new visualization to begin with. This visualization didn't exist. She dreamt it up and it instantly became famous as her two roses and this of a person who had no time to sit at her desk who was all the time day and night serving the wounded and the ill in hospitals right she is literally the lady of the night and journalists wrote that when everybody would be asleep she would still be going with her lamb everybody would be asleep she would still be going with her lamb room to room and looking after patients right in the late of the night and such a person found time to then come up with this which you know shows the multiple you know varied aspects of 12th nightingale which was not just nursing she had like multiple talents yes as well as you know activism yes yes yes she did very impressive book yeah she's one of the great people like one of the great people whose life you look at and you marvel that she accomplished all of it in one person right in one life